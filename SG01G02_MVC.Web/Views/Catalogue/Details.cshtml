@model SG01G02_MVC.Domain.Entities.Product
@inject SG01G02_MVC.Web.Services.IUserSessionService _session

@{
    ViewData["Title"] = Model.Name;
}

<div class="container mt-4">
    <h2>@Model.Name</h2>
    <hr />

    <dl class="row">
        <dt class="col-sm-2">Description</dt>
        <dd class="col-sm-10">@Model.Description</dd>

        <dt class="col-sm-2">Price</dt>
        <dd class="col-sm-10">@($"{Model.Price:C}")</dd>

        <dt class="col-sm-2">Stock Status</dt>
        <dd class="col-sm-10">
            @if (Model.StockQuantity > 0)
            {
                <span class="text-success">In Stock</span>
            }
            else
            {
                <span class="text-danger">Out of Stock</span>
            }
        </dd>
    </dl>

    @if (_session?.Role == "Admin")
    {
        <div class="mt-3">
            <a asp-controller="Admin" asp-action="EditProduct" asp-route-id="@Model.Id" class="btn btn-outline-warning me-2">
                Edit Product
            </a>
            <a asp-controller="Admin" asp-action="DeleteProduct" asp-route-id="@Model.Id" class="btn btn-outline-danger me-2">
                Delete Product
            </a>
            <a asp-controller="Admin" asp-action="AddProduct" class="btn btn-outline-success">
                Add New Product
            </a>
        </div>
    }
    <a asp-controller="Catalogue" asp-action="Index" class="btn btn-secondary">
        Back to Catalogue
    </a>
</div>